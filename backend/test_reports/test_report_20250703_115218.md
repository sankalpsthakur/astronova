# AstroNova Backend API Test Report

**Generated:** 2025-07-03T11:52:09.276090

**Base URL:** http://127.0.0.1:5001

## Summary

- **Total Tests:** 27
- **Passed:** 27
- **Failed:** 0
- **Warnings:** 0
- **Success Rate:** 100.0%
- **Average Response Time:** 0.564s

## Services Tested

### Health Service

| Endpoint | Method | Status | Response Time | Result |
|----------|--------|--------|---------------|--------|
| /health | GET | 200 | 0.001s | ✅ Pass |

### Auth Service

| Endpoint | Method | Status | Response Time | Result |
|----------|--------|--------|---------------|--------|
| /api/v1/auth | GET | 200 | 0.001s | ✅ Pass |
| /api/v1/auth/mock-login | POST | 200 | 0.001s | ✅ Pass |

### Chat Service

| Endpoint | Method | Status | Response Time | Result |
|----------|--------|--------|---------------|--------|
| /api/v1/chat | GET | 200 | 0.001s | ✅ Pass |
| /api/v1/chat/send | POST | 200 | 6.218s | ✅ Pass |

### Horoscope Service

| Endpoint | Method | Status | Response Time | Result |
|----------|--------|--------|---------------|--------|
| /api/v1/horoscope | GET | 200 | 2.790s | ✅ Pass |

### Match Service

| Endpoint | Method | Status | Response Time | Result |
|----------|--------|--------|---------------|--------|
| /api/v1/match | GET | 200 | 0.004s | ✅ Pass |
| /api/v1/match | POST | 200 | 0.002s | ✅ Pass |

### Chart Service

| Endpoint | Method | Status | Response Time | Result |
|----------|--------|--------|---------------|--------|
| /api/v1/chart | GET | 200 | 0.002s | ✅ Pass |
| /api/v1/chart/generate | POST | 200 | 0.002s | ✅ Pass |

### Reports Service

| Endpoint | Method | Status | Response Time | Result |
|----------|--------|--------|---------------|--------|
| /api/v1/reports | GET | 200 | 0.003s | ✅ Pass |
| /api/v1/reports/full | POST | 200 | 0.002s | ✅ Pass |

### Ephemeris Service

| Endpoint | Method | Status | Response Time | Result |
|----------|--------|--------|---------------|--------|
| /api/v1/ephemeris | GET | 200 | 0.002s | ✅ Pass |
| /api/v1/ephemeris/current?lat=40.7128&lon=-74.0060 | GET | 200 | 0.002s | ✅ Pass |

### Content Service

| Endpoint | Method | Status | Response Time | Result |
|----------|--------|--------|---------------|--------|
| /api/v1/content | GET | 200 | 0.001s | ✅ Pass |
| /api/v1/content/management | GET | 200 | 0.001s | ✅ Pass |

## Sample Responses

### GET /health

```json
{
  "gemini_configured": true,
  "status": "ok"
}
```

### GET /api/v1/auth

```json
{
  "endpoints": {
    "GET /user": "Get current user",
    "GET /validate": "Validate JWT token",
    "POST /apple": "Authenticate with Apple ID",
    "POST /logout": "Logout user",
    "POST /refresh": "Refresh JWT token",
    "PUT /user": "Update current user"
  },
  "service": "auth",
  "status": "available"
}
```

### POST /api/v1/auth/mock-login

```json
{
  "expiresAt": "2025-07-03T08:22:09.286026",
  "jwtToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc1MTUyMzcyOSwianRpIjoiNjg0Y2FjNjAtNTkzYS00NTgwLTgxMDUtN2NiMmIzNWNjYmMzIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6InRlc3QtdXNlci0xNzUxNTIzNzI5IiwibmJmIjoxNzUxNTIzNzI5LCJjc3JmIjoiZDI2NzM2MzQtZDRiNC00MzMwLWFmYjctMWYyNDI0YTQwODljIiwiZXhwIjoxNzUxNTMwOTI5LCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJ1c2VyX3R5cGUiOiJhdXRoZW50aWNhdGVkIn0.VpalRjtwlQwlGxX-tvhKc-9QYx2I_0KPEDawkm9ifwA",
  "user": {
    "email": "test@example.com",
    "firstName": "Test",
    "id": "test-user-1751523729",
    "lastName": "User"
  }
}
```

### GET /api/v1/chat

```json
{
  "endpoints": {
    "POST /send": "Send a chat message"
  },
  "gemini_configured": true,
  "service": "chat",
  "status": "available"
}
```

### POST /api/v1/chat/send

```json
{
  "conversationId": "test-1751523729",
  "messageId": "gemini",
  "reply": "While astrology doesn't typically pinpoint specific \"lucky colors\" for each sign on a daily basis, we can look at the colors traditionally associated with Pisces that resonate with their energy.\n\nFor Pisces, colors that often bring a sense of peace, intuition, and inspiration include:\n\n*   **Seafoam Green / Aqua / Teal:** Reflecting their connection to water, the ocean, and their dreamy, ethereal nature.\n*   **Lavender / Lilac / Purple:** Representing spirituality, intuition, creativity, and their connection to the subconscious.\n*   **Indigo / Deep Blue:** Enhancing their wisdom, introspection, and mystical side.\n*   **Iridescent / Pearlescent tones:** Symbolizing their fluid, adaptable, and often otherworldly qualities.\n\n**Today, consider choosing a color from this palette that you feel drawn to.** The \"luckiest\" color is often the one that makes you feel most comfortable, confident, and aligned with your inner self!",
  "suggestedFollowUps": [
    "What's my love forecast? \ud83d\udc96",
    "Career guidance? \u2b50",
    "Today's energy? \u2600\ufe0f"
  ]
}
```

### GET /api/v1/horoscope

```json
{
  "sample_data": {
    "content": "Aries, today is a day for **bold action** and **new beginnings**. Your natural leadership shines, so don't hesitate to take charge. Expect a surge of energy and use it to tackle challenges head-on \u2013 you're well-positioned for success!",
    "date": "2025-07-03",
    "sign": "aries"
  },
  "service": "horoscope",
  "status": "available"
}
```

### GET /api/v1/match

```json
{
  "endpoints": {
    "POST /": "Calculate compatibility between two people"
  },
  "service": "match",
  "status": "available"
}
```

### POST /api/v1/match

```json
{
  "chineseScore": 75,
  "overallScore": 85,
  "partnerChart": {
    "sun": {
      "degree": "22.3",
      "sign": "Sagittarius"
    }
  },
  "synastryAspects": [
    {
      "aspect": "trine",
      "orb": 2.5,
      "planet1": "venus",
      "planet2": "mars"
    },
    {
      "aspect": "sextile",
      "orb": 4.1,
      "planet1": "sun",
      "planet2": "moon"
    }
  ],
  "userChart": {
    "sun": {
      "degree": "15.5",
      "sign": "Leo"
    }
  },
  "vedicScore": 28
}
```

### GET /api/v1/chart

```json
{
  "endpoints": {
    "POST /generate": "Generate birth chart"
  },
  "service": "chart",
  "status": "available"
}
```

### POST /api/v1/chart/generate

```json
{
  "chartId": "test-chart-123",
  "charts": {
    "western": {
      "positions": {
        "mercury": {
          "degree": 3.7,
          "sign": "Virgo"
        },
        "moon": {
          "degree": 8.2,
          "sign": "Cancer"
        },
        "sun": {
          "degree": 15.5,
          "sign": "Leo"
        }
      },
      "svg": "base64encodedsvgdata..."
    }
  },
  "type": "natal"
}
```

### GET /api/v1/reports

```json
{
  "endpoints": {
    "GET /<report_id>": "Get report by ID",
    "POST /full": "Generate detailed report"
  },
  "service": "reports",
  "status": "available"
}
```

### POST /api/v1/reports/full

```json
{
  "downloadUrl": "/api/v1/reports/report-123/download",
  "generatedAt": "2025-07-03T06:22:18.321191",
  "keyInsights": [
    "Leo Sun in 5th house: Natural performer and creative leader",
    "Cancer Moon: Deep emotional intelligence and nurturing nature"
  ],
  "reportId": "report-123",
  "status": "completed",
  "summary": "Your cosmic blueprint reveals a dynamic personality with strong leadership qualities...",
  "title": "Complete Natal Chart Analysis",
  "type": "natal"
}
```

### GET /api/v1/ephemeris

```json
{
  "endpoints": {
    "GET /current": "Get current planetary positions"
  },
  "service": "ephemeris",
  "status": "available"
}
```

### GET /api/v1/ephemeris/current?lat=40.7128&lon=-74.0060

```json
{
  "has_rising_sign": false,
  "planets": [
    {
      "degree": 11.5,
      "id": "sun",
      "name": "Sun",
      "retrograde": false,
      "sign": "Cancer",
      "significance": "Core identity and vitality",
      "symbol": "\u2609"
    },
    {
      "degree": 23.2,
      "id": "moon",
      "name": "Moon",
      "retrograde": false,
      "sign": "Pisces",
      "significance": "Emotions and intuition",
      "symbol": "\u263d"
    },
    {
      "degree": 8.7,
      "id": "mercury",
      "name": "Mercury",
      "retrograde": true,
      "sign": "Gemini",
      "significance": "Communication and thinking",
      "symbol": "\u263f"
    }
  ],
  "timestamp": "2025-07-03T11:52:18.326439"
}
```

### GET /api/v1/content

```json
{
  "endpoints": {
    "GET /management": "Get content management data"
  },
  "service": "content",
  "status": "available"
}
```

### GET /api/v1/content/management

```json
{
  "insights": [
    {
      "category": "daily",
      "content": "Your cosmic energy forecast for today",
      "id": "1",
      "is_active": true,
      "priority": 1,
      "title": "Daily Energy"
    }
  ],
  "quick_questions": [
    {
      "category": "love",
      "id": "1",
      "is_active": true,
      "order": 1,
      "text": "What's my love forecast? \ud83d\udc96"
    },
    {
      "category": "career",
      "id": "2",
      "is_active": true,
      "order": 2,
      "text": "Career guidance? \u2b50"
    }
  ]
}
```

